{"ast":null,"code":"import _classCallCheck from\"/Users/nelson.leung/Documents/Courses/Columbia_Bootcamp/Projects/Dashboard_Deploy/NFL_Dash/flask-backend/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nelson.leung/Documents/Courses/Columbia_Bootcamp/Projects/Dashboard_Deploy/NFL_Dash/flask-backend/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/nelson.leung/Documents/Courses/Columbia_Bootcamp/Projects/Dashboard_Deploy/NFL_Dash/flask-backend/react-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/nelson.leung/Documents/Courses/Columbia_Bootcamp/Projects/Dashboard_Deploy/NFL_Dash/flask-backend/react-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/nelson.leung/Documents/Courses/Columbia_Bootcamp/Projects/Dashboard_Deploy/NFL_Dash/flask-backend/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import*as d3 from\"d3\";var width=900;var height=600;var margin={top:20,right:40,bottom:60,left:50};var red=\"#eb6a5b\";var blue=\"#52b6ca\";var green=\"#106b21\";var LineChart=/*#__PURE__*/function(_Component){_inherits(LineChart,_Component);function LineChart(){var _getPrototypeOf2;var _this;_classCallCheck(this,LineChart);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LineChart)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={passing_yards_gained:null,// svg path command for all the pass temps\nrushing_yards_gained:null,// svg path command for rush temps,\nreceiving_yards_gained:null,// d3 helpers\nxScale:d3.scaleTime().range([margin.left,width-margin.right]),yScale:d3.scaleLinear().range([height-margin.bottom,margin.top]),yScale2:d3.scaleLinear().range([height-margin.bottom,margin.top]),lineGenerator:d3.line()};_this.xAxis=d3.axisBottom().scale(_this.state.xScale).tickFormat(d3.timeFormat(\"%Y\")).ticks(d3.timeYear);_this.yAxis=d3.axisLeft().scale(_this.state.yScale).tickFormat(function(d){return d;});_this.yAxis2=d3.axisRight().scale(_this.state.yScale2).tickFormat(function(d){return d;});_this.yAxisLabel=d3.select(_this.state.yAxis).append(\"text\")// .attr(\"x\", 0)\n// .attr(\"y\", 0)\n.text(\"Label Test\");return _this;}_createClass(LineChart,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){d3.select(this.refs.xAxis).call(this.xAxis);d3.select(this.refs.yAxis).call(this.yAxis);d3.select(this.refs.yAxis2).call(this.yAxis2);}},{key:\"render\",value:function render(){return React.createElement(\"svg\",{width:width,height:height},React.createElement(\"path\",{d:this.state.passing_yards_gained,fill:\"none\",stroke:red,strokeWidth:\"2\"}),React.createElement(\"path\",{d:this.state.rushing_yards_gained,fill:\"none\",stroke:blue,strokeWidth:\"2\"}),React.createElement(\"path\",{d:this.state.receiving_yards_gained,fill:\"none\",stroke:green,strokeWidth:\"2\"}),React.createElement(\"g\",null,React.createElement(\"g\",{ref:\"xAxis\",transform:\"translate(0, \".concat(height-margin.bottom,\")\")}),React.createElement(\"g\",{ref:\"yAxis\",transform:\"translate(\".concat(margin.left,\", 0)\")}),React.createElement(\"g\",{ref:\"yAxisLabel\",transform:\"translate(100, 300)\"}),React.createElement(\"g\",{ref:\"yAxis2\",transform:\"translate(\".concat(width-margin.right,\", 0)\")})));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){if(!nextProps.data)return null;// data hasn't been loaded yet so do nothing\nvar data=nextProps.data;var xScale=prevState.xScale,yScale=prevState.yScale,yScale2=prevState.yScale2,lineGenerator=prevState.lineGenerator;// data has changed, so recalculate scale domains\nvar timeDomain=d3.extent(data,function(d){return d.year;});var passMax=d3.max(data,function(d){return d.pass;});var rushMax=d3.max(data,function(d){return d.rush;});var receiveMax=d3.max(data,function(d){return d.receive;});xScale.domain(timeDomain);yScale.domain([0,passMax]);if(rushMax>receiveMax){yScale2.domain([0,rushMax]);}else{yScale2.domain([0,receiveMax]);}// calculate line for rushing_yards_gained\nlineGenerator.x(function(d){return xScale(d.year);});lineGenerator.y(function(d){return yScale2(d.rush);});var rushing_yards_gained=lineGenerator(data);// and then passing_yards_gained\nlineGenerator.y(function(d){return yScale(d.pass);});var passing_yards_gained=lineGenerator(data);// and then receiving_yards_gained\nlineGenerator.y(function(d){return yScale2(d.receive);});var receiving_yards_gained=lineGenerator(data);return{rushing_yards_gained:rushing_yards_gained,passing_yards_gained:passing_yards_gained,receiving_yards_gained:receiving_yards_gained};}}]);return LineChart;}(Component);export default LineChart;","map":{"version":3,"sources":["/Users/nelson.leung/Documents/Courses/Columbia_Bootcamp/Projects/Dashboard_Deploy/NFL_Dash/flask-backend/react-frontend/src/components/LineChart.js"],"names":["React","Component","d3","width","height","margin","top","right","bottom","left","red","blue","green","LineChart","state","passing_yards_gained","rushing_yards_gained","receiving_yards_gained","xScale","scaleTime","range","yScale","scaleLinear","yScale2","lineGenerator","line","xAxis","axisBottom","scale","tickFormat","timeFormat","ticks","timeYear","yAxis","axisLeft","d","yAxis2","axisRight","yAxisLabel","select","append","text","refs","call","nextProps","prevState","data","timeDomain","extent","year","passMax","max","pass","rushMax","rush","receiveMax","receive","domain","x","y"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nconst width = 900;\nconst height = 600;\nconst margin = { top: 20, right: 40, bottom: 60, left: 50 };\nconst red = \"#eb6a5b\";\nconst blue = \"#52b6ca\";\nconst green = \"#106b21\";\n\nclass LineChart extends Component {\n  state = {\n    passing_yards_gained: null, // svg path command for all the pass temps\n    rushing_yards_gained: null, // svg path command for rush temps,\n    receiving_yards_gained: null,\n    // d3 helpers\n    xScale: d3.scaleTime().range([margin.left, width - margin.right]),\n    yScale: d3.scaleLinear().range([height - margin.bottom, margin.top]),\n    yScale2: d3.scaleLinear().range([height - margin.bottom, margin.top]),\n    lineGenerator: d3.line()\n  };\n\n  xAxis = d3\n    .axisBottom()\n    .scale(this.state.xScale)\n    .tickFormat(d3.timeFormat(\"%Y\"))\n    .ticks(d3.timeYear);\n  yAxis = d3\n    .axisLeft()\n    .scale(this.state.yScale)\n    .tickFormat(d => d);\n  // .attr(\"fill\", \"red\");\n\n  yAxis2 = d3\n    .axisRight()\n    .scale(this.state.yScale2)\n    .tickFormat(d => d);\n\n  yAxisLabel = d3\n    .select(this.state.yAxis)\n    .append(\"text\")\n    // .attr(\"x\", 0)\n    // .attr(\"y\", 0)\n    .text(\"Label Test\");\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (!nextProps.data) return null; // data hasn't been loaded yet so do nothing\n    const { data } = nextProps;\n    const { xScale, yScale, yScale2, lineGenerator } = prevState;\n\n    // data has changed, so recalculate scale domains\n    const timeDomain = d3.extent(data, d => d.year);\n    const passMax = d3.max(data, d => d.pass);\n    const rushMax = d3.max(data, d => d.rush);\n    const receiveMax = d3.max(data, d => d.receive);\n\n    xScale.domain(timeDomain);\n    yScale.domain([0, passMax]);\n\n    if (rushMax > receiveMax) {\n      yScale2.domain([0, rushMax]);\n    } else {\n      yScale2.domain([0, receiveMax]);\n    }\n    // calculate line for rushing_yards_gained\n    lineGenerator.x(d => xScale(d.year));\n    lineGenerator.y(d => yScale2(d.rush));\n\n    const rushing_yards_gained = lineGenerator(data);\n\n    // and then passing_yards_gained\n    lineGenerator.y(d => yScale(d.pass));\n    const passing_yards_gained = lineGenerator(data);\n\n    // and then receiving_yards_gained\n    lineGenerator.y(d => yScale2(d.receive));\n    const receiving_yards_gained = lineGenerator(data);\n\n    return {\n      rushing_yards_gained,\n      passing_yards_gained,\n      receiving_yards_gained\n    };\n  }\n\n  componentDidUpdate() {\n    d3.select(this.refs.xAxis).call(this.xAxis);\n    d3.select(this.refs.yAxis).call(this.yAxis);\n    d3.select(this.refs.yAxis2).call(this.yAxis2);\n  }\n\n  render() {\n    return (\n      <svg width={width} height={height}>\n        <path\n          d={this.state.passing_yards_gained}\n          fill=\"none\"\n          stroke={red}\n          strokeWidth=\"2\"\n        />\n        <path\n          d={this.state.rushing_yards_gained}\n          fill=\"none\"\n          stroke={blue}\n          strokeWidth=\"2\"\n        />\n        <path\n          d={this.state.receiving_yards_gained}\n          fill=\"none\"\n          stroke={green}\n          strokeWidth=\"2\"\n        />\n        <g>\n          <g\n            ref=\"xAxis\"\n            transform={`translate(0, ${height - margin.bottom})`}\n          />\n\n          <g ref=\"yAxis\" transform={`translate(${margin.left}, 0)`} />\n          <g ref=\"yAxisLabel\" transform={`translate(100, 300)`} />\n          <g ref=\"yAxis2\" transform={`translate(${width - margin.right}, 0)`} />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default LineChart;\n"]},"metadata":{},"sourceType":"module"}